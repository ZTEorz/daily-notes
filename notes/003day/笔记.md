# 1 GIT

当多人协作开发项目的时候，当项目版本需要迭代的时候，一个优秀的代码版本控制工具会大大提效开发效率，GIT就是当前最流行的分布式代码管理工具。

## 1.1 GIT 核心概念

![GIT 核心概念](https://s1.ax1x.com/2023/04/21/p9AbFj1.png)



- 工作区(workspace) 编写代码的本地目录
- 暂存区(index) 暂存要提交的代码
- 本地仓库(repository) 管理本地的代码版本
- 远程仓库(remote) 管理代码的远程服务器



## 1.2 GIT 本地仓库常用命令

使用 GTI 命令时要确保输入命令的路径是否正确。

1. 设置用户信息（昵称和 Email）

   ```
   git config --global user.name <username>
   git config --global user.email <mailaddress>
   ```

2. 初始化本地仓库

   ```
   git init
   ```

   在工作区（文件夹）的终端上输入以上命令，此时工作区里的文件还没有被追踪（ untrack ）。

3. 将文件添加到暂存区（添加后工作区内文件此时被追踪（add））

   ```
   git add 文件路径	// 追踪工作区内指定文件
   git add .	// 追踪工作区内所有文件
   ```

4. 查看本地文件的状态

   ```
   git status
   ```

5. 暂存区提交到本地仓库（提交后暂存区清空了）

   ```
   git commit -m '备注信息（通常记录当日做了什么，或通常有功能更新才提交）'
   ```

6. 查看提交的详细历史版本信息（如果回溯了，则版本之后的信息无法查看）

   ```
   git log
   ```

   当显示的信息过多时，回车键查看下一行，空格键查看下一页，按 q 退出。

7. 从暂存区找回误删除的文件

   ```
   git checkout 文件名
   ```

8. 彻底删除工作区的文件（无法找回，但可以回溯间接找回）

   ```
   git rm 文件名
   ```

9. 回溯到指定的版本

   ```
   git reset --hard 版本号（git log 和 git reflog 上可以查看到，至少输入版本号前七位）
   ```

10. 查看整个回溯版本的历史信息（所有提交的历史版本信息，包括回溯记录）

    ```
    git reflog
    ```

## 1.3 vscode 中 GIT 状态标识

- A —— 被追踪(add)
- U —— 未被追踪(untracked)
- M —— 被修改(modified)

## 1.4 GIT 远程仓库常用命令

1. 添加远程仓库 将本地仓库和远程仓库连接起来

   ```
   git remote add 远程仓库的别名（常用origin） 远程仓库的http地址
   ```

   可以连接多个远程仓库，注意远程仓库别名的起名。

2. 查看添加的远程仓库

   ```
   git remote
   ```

3. 将本地仓库的代码推送到指定的远程仓库上指定分支

   ```
   git push 远程仓库别名 分支名（默认master）
   ```

   如果该仓库分支原本就有代码，需要先确保远程仓库和本地仓库的一致性。

4. 拉取他人远程仓库到自己工作区

   ```
   git clone 别人远程仓库地址
   ```

   此操作不用初始化工作区。

5. 拉取自己远程仓库到工作区

   ```
   git pull --rebase 仓库别名 分支名
   ```

   拉取前确保添加了该远程仓库，上述代码操作将远程仓库的代码拉取到自己工作区，这确保了远程仓库和本地仓库的一致性。